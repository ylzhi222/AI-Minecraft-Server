# 02_screen ä¼šè¯æ¢å¤å¤±è´¥çš„å¤„ç†è¿‡ç¨‹

åœ¨ä½¿ç”¨ `screen` ç®¡ç† Minecraft æœåŠ¡å™¨æ§åˆ¶å°æ—¶ï¼Œé‡åˆ°äº†å¦‚ä¸‹é—®é¢˜ï¼š

## ğŸ§© é—®é¢˜æè¿°

å½“å°è¯•ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¢å¤ä¼šè¯æ—¶ï¼š
```bash
screen -r server
```
ç³»ç»Ÿæç¤ºï¼š
```bash
There are several suitable screens on:
    4050.server     (Attached)
    3203.server     (Detached)
    2948.server     (Detached)
    2779.server     (Detached)
    1199.server     (Detached)
Type "screen [-d] -r [pid.]tty.host" to resume one of them.
```

ä¹‹åå†å°è¯•ï¼š
```bash
screen -r 4050.server
```
ç³»ç»Ÿè¿”å›ï¼š
```bash
There is a screen on:
    4050.server     (Attached)
There is no screen to be resumed matching 4050.server.
```

## ğŸ§ª é—®é¢˜åˆ†æ

- `Attached` è¡¨ç¤ºè¯¥ä¼šè¯ä»ç„¶è¢«æŸä¸ªç»ˆç«¯è¿æ¥ï¼Œä¸èƒ½ç›´æ¥å†æ¬¡é™„åŠ ã€‚
- `Detached` è¡¨ç¤ºè¯¥ä¼šè¯å·²æ–­å¼€è¿æ¥ï¼Œå¯ä»¥å®‰å…¨é‡æ–°é™„åŠ ã€‚
- `screen -r` ä¸èƒ½ç”¨äºé™„åŠ å·²è¿æ¥çš„ä¼šè¯ã€‚

## âœ… è§£å†³æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šè¿æ¥åˆ°æŸä¸ª `Detached` çš„ä¼šè¯
```bash
screen -r 3203.server
```
æˆ–ä½¿ç”¨ï¼š
```bash
screen -r 2948.server
```
ä¾æ¬¡å°è¯•ï¼Œæ‰¾åˆ°ä½ ä¸Šæ¬¡è¿è¡ŒæœåŠ¡å™¨çš„é‚£ä¸ªä¼šè¯ã€‚

### æ–¹æ³•äºŒï¼šå¼ºåˆ¶æ–­å¼€å¹¶é‡æ–°é™„åŠ 
å¦‚æœä½ ç¡®ä¿¡ `4050.server` æ˜¯ä½ çš„ç›®æ ‡ä¼šè¯ï¼š
```bash
screen -d -r 4050.server
```
è¿™ä¸ªå‘½ä»¤ä¼šå…ˆå¼ºåˆ¶æ–­å¼€åŸæœ‰è¿æ¥ï¼Œå†å°†å½“å‰ç»ˆç«¯é™„åŠ åˆ°è¯¥ä¼šè¯ã€‚

### æ–¹æ³•ä¸‰ï¼šåˆ—å‡ºæ‰€æœ‰ screen ä¼šè¯
```bash
screen -ls
```
ç¡®è®¤æ˜¯å¦è¿˜æœ‰æ—§çš„ã€æœªæ¸…ç†çš„ä¼šè¯ã€‚

### æ–¹æ³•å››ï¼šç»“æŸå¤šä½™çš„ screen ä¼šè¯
å¯ä»¥æ€æ­»ä¸€ä¸ªå·²çŸ¥ä¼šè¯ï¼š
```bash
screen -X -S 1199.server quit
```
è¿™ä¼šæ¸…é™¤è¯¥ä¼šè¯å ç”¨çš„èµ„æºï¼Œé¿å…æ··æ·†ã€‚

## ğŸ” ä¼šè¯ç®¡ç†å»ºè®®

- æ¯æ¬¡å¼€å¯æœåŠ¡å™¨å‰éƒ½è¿è¡Œï¼š
```bash
screen -S server_name
```
ç»™ä½ çš„ screen ä¼šè¯æ˜ç¡®å‘½åã€‚

- å¯ä»¥åœ¨ shell è„šæœ¬ä¸­ç»Ÿä¸€ç®¡ç† screen å¯åŠ¨ã€é€€å‡ºï¼š
```bash
#!/bin/bash
screen -S mcserver -dm java -Xmx1024M -Xms1024M -jar server.jar nogui
```

- è‹¥ä½¿ç”¨å¤šä¸ª screen ä¼šè¯ï¼Œå¯ç”¨ `screen -r` æ—¶ç»“åˆ `screen -ls` æŸ¥çœ‹å¯¹åº”ç¼–å·ã€‚

## ğŸ“ æ€»ç»“

é‡åˆ° `screen -r` æç¤ºâ€œæœ‰å¤šä¸ªå€™é€‰ä¼šè¯â€æ—¶ï¼Œè¯´æ˜ä½ å¯èƒ½æœªå…³é—­æ—§çš„ screenï¼Œä¼šè¯å¤ªå¤šå®¹æ˜“æ··æ·†ã€‚å»ºè®®ç»Ÿä¸€å‘½åå¹¶å®šæœŸæ¸…ç†ä¸å†ä½¿ç”¨çš„ screen å®ä¾‹ã€‚

å¯ä»¥åœ¨æœåŠ¡å™¨å¼€æœºè„šæœ¬æˆ–éƒ¨ç½²æµç¨‹ä¸­åŠ å…¥è‡ªåŠ¨å¯åŠ¨å¹¶å‘½åçš„ screenï¼Œæå‡ç®¡ç†æ•ˆç‡ã€‚



